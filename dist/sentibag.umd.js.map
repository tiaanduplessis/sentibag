{"version":3,"file":"sentibag.umd.js","sources":["../src/index.js"],"sourcesContent":["\nfunction stripPunctuation (str = '') {\n  return str.replace(/[.,-/#!$%^&*;:{}=\\-_`~()@+?><[\\]+]/g, '').replace(/\\s{2,}/g, ' ')\n}\n\nfunction tokenize (str = '') {\n  return str.toLowerCase().split(' ')\n}\n\nfunction analyze (str = '', lexicon = []) {\n  if (!str || typeof str !== 'string') {\n    throw new Error('No string provided to analyze')\n  }\n\n  const tokens = tokenize(stripPunctuation(str))\n  let positive = {\n    score: 0,\n    words: []\n  }\n  let negative = {\n    score: 0,\n    words: []\n  }\n\n  tokens.forEach(token => {\n    if (lexicon[token] !== undefined) {\n      if (lexicon[token] > 0) {\n        positive.score += lexicon[token]\n        positive.words.push(token)\n      } else {\n        negative.score += lexicon[token]\n        negative.words.push(token)\n      }\n    }\n  })\n\n  return {\n    score: positive.score + negative.score,\n    comparative: getComparative(positive) - getComparative(negative),\n    positive,\n    negative\n  }\n}\n\nfunction getComparative ({score, words} = {}) {\n  if (score !== 0 && words.length) {\n    return score / words.length\n  }\n\n  return 0\n}\n\nexport default analyze\n"],"names":["getComparative","ref","score","words","length","str","lexicon","Error","const","positive","negative","toLowerCase","split","tokenize","replace","stripPunctuation","forEach","token","undefined","push","comparative"],"mappings":"uKA4CA,SAASA,EAAgBC,8CACvB,OAAc,IAAVC,GAAeC,EAAMC,OAChBF,EAAQC,EAAMC,OAGhB,SAxCT,SAAkBC,EAAUC,GAC1B,kBADsB,wBACjBD,GAAsB,iBAARA,EACjB,MAAM,IAAIE,MAAM,iCAGlBC,IACIC,GACFP,MAAO,EACPC,UAEEO,GACFR,MAAO,EACPC,UAeF,OA/BF,SAAmBE,GACjB,sBADuB,IAChBA,EAAIM,cAAcC,MAAM,KAQhBC,CAbjB,SAA2BR,GACzB,sBAD+B,IACxBA,EAAIS,QAAQ,sCAAuC,IAAIA,QAAQ,UAAW,KAYzDC,CAAiBV,IAUlCW,iBAAQC,QACUC,IAAnBZ,EAAQW,KACNX,EAAQW,GAAS,GACnBR,EAASP,OAASI,EAAQW,GAC1BR,EAASN,MAAMgB,KAAKF,KAEpBP,EAASR,OAASI,EAAQW,GAC1BP,EAASP,MAAMgB,KAAKF,QAMxBf,MAAOO,EAASP,MAAQQ,EAASR,MACjCkB,YAAapB,EAAeS,GAAYT,EAAeU,YACvDD,WACAC"}